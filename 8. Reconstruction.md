---
---
8. Reconstruction.md
---

# 개요
- Reconstruction : the experimental component of DFE
examination -> 과학
  - 가설을 검증하기 위하여 결과가 예측되는 과학적인 실험 시행
  - 실험 -> 예측된 결과가 나오지 않으면 기각
  - 예측된 결과가 나오면 가능성 증가 -> 증명은 아님

# Driving time backwards
- 주어진 traces로 이전의 입력을 결정
  - x+y 로 x, y를 결정할 수 있을까?
- Travel time and jitter -> uncertainty
- Backward time non-unique -> 다양한 가능성
- Reversing possible errors -> history expansion
- 위조의 가능성
- 모든 가능한 환경을 조사할 수 없음
- 제한된 수의 FSM에 대한 이전의 입력과 상태들의 범주를 구별할
수 있으며 특정 사건에서는 이것만으로도 충분할 수 있음에

# An experimental approach
- 재현: 특성 사건에서 가설을 검증하는 과정임 (증명X)
  - Confirm, Refute, and Unrevealing
- 이론(theory) : 일반적인 원리
  - 긴 시간 동안 많은 실험에 의해 정립
  - 틀린 경우라 해도 매우 근접함
- 가설(hypothesis) : trace와 event를 설명하는 추측
  - 가설에 기반하여 실험하여 trace 생성 후 실제 trace와 비교
  - C-trace : 조사자가 생성한 trace
  - O-trace : 원본 trace
  - Envelope : 실험 공간 -> inputs, states, outputs, and traces
  - History : 특정 시간대에서 FSM의 모든 입력, 상태, 출력
- 일치성 : O-trace ~ C-trace, 모순성(not) 

# An experimental approach
- Forward reconstruction
  - 대상에게 실질적으로 영향을 미친 조건을 재현
  - 초기 상태를 거의 알지 못함
  - Marterial의 모호성 -> 판단의 문제
  - 정확도, 정밀도에 대한 문제 -> 오차의 허용 범위
  - 일치성과 모순성에 대한 정의는 미리 식별되어야 함
  - 실험하지 못한 다른 입력에 의한 한계
- What can be easily tested and how fast
  - 정상 동작 환경에서 C-trace를 생성하는 방법 결정
  - 정확한 메커니즘을 모르면 재현 실험에 한계가 존재
- Precision issues and prediction
  - 측정에 따른 허용 오차의 결정 -> 예 : 시간의 허용 오차

- 반복성 : 실험 환경, 절차의 기록
  - 보고서의 내용만 보고 반복할 수 있어야 함
  - 결과와 사용한 방법은 조사자의 신뢰성에 대한 탄핵 대상임
- Contraband : 존재는 재현 불필요, 사용 여부는 재현 필요
- 이벤트의 순서를 밝혀야 하는 경우 -> 재현 필요
  - 전문가가 일치성을 믿어도 재현은 필요
  - Software often does not do what people think it does
  - 재현은 확실성을 증가시킴

- Class approach and assumption
  - 특정 집합의 일부분임을 파악 -> 원인을 규명하는 것은 아님
  - 재현으로 가설을 기각할 수 있음
  - 주어진 이벤트의 열이 주어진 C-trace 집합의 원소를 생성
  - 쟁점인 O-trace가 C-trace 집합의 원소인가?
  - 특정 집합을 가정하는 것은 한계가 있으나 재현은 가설을 실험적으로 검증하는 유일한 수단임 -> 전문가는 재현의 가정과 한계를 이해할 믜무가 있음

- 재현의 핵심 요소
  - 가설을 검증할 시험 파악: 가설 확립 -> traces 예측 -> test
  - test의 한계 설정
    - 시간, 공간의 한정
    - 측정 도구의 정확성
    - 정확도 요건에 부합하는 시간, 공간의 단위와 측정 도구
    - 기대한 결과 여부를 판정할 수 있는 측정 오차의 파악
    - 입력, 상태, 출력, trace 등 실험 대상의 명확화
    - 실험 횟수, 실험 조건에 부합하기 위해 요구되는 관련 문제 파악

  - 시험 환경 구축
    - 소프트웨어 구동에서부터 물리적 네트워크 구성까지 다양
    - How many systems of what sort are needed?
    - How many different variations are required?
    - 설정해야 하는 것은 무엇이고 얼마만큼 상세히 설정할 것인가?
    - 몇번 반복 실험해야 하고 방법의 충실도는 얼마이어야 하는가?
    - How will inputs be generated?
    - How will traces be recorded?
    - What has to be stored and where will it be stored?
    - Is interaction with outside systems, and if so, what properties of it are required and how will they be tracked and assured?
    - 가상화 -> a good choice when performance or specific hardware is not a key issue

  - 실험 시행 : 환경 구축 -> 입력 생성 -> C-traces 수집
  - C-trsces 분석 : 일치성, 모순성, 미결정
    - O-traces에 적용한 방법과 동일하게 분석하고 비교
    - 미결정 : 실험 실패 이유에 보고
  - 선택적인 정밀 재실험 -> 새로운 원인 규명
- 불확실성
  - 필요한 부분만 실험
  - 실험 횟수가 많을수록 확실성 증가
  - Coverage of the input and state
- 재현의 한계
  - 하드웨어의 상황, 운영체제의 버전
  - 소프트웨어 버전, 패치 정보

# Legal restrictions
- 법률적 제약 사항: SW 저작권, 역공학 추진 가능성
- 네트워크 제약: 시간 변화, 원격 불법 접근, 악성코드 유포
- 증거 능력이 없어도 재현 결과는 전문가 의견으로 허용될 수 있음
- 재현의 탄핵
  - Is it just fantasy or a simulation?
  - Is it more probative than prejudicial?
  - How many possibilities are there and how many tests did you do to cover all of those possibilities?
  - Is the results displayed reflective of reality? All realities or just one of them?
  - Is this evidence or entertainment?

# DFE reconstruction laboratory
- 조사자의 일반 환경은 최적으로 동작하여야 하나
- 재현은 최대한 유사한 환경
  - 다양한 기기: different ages and types
  - 다양한 기기의 emulators
  - 다양한 표준 설정
  - startup media, installation media, 패치, 매뉴얼 등의 장기간 수집
  - 자동 기록, 실행, 입력 재연을 할 수 있는 메커니즘
  - 시스템과 네트워크의 실행 상태를 상세히 기록할 수 있는 메커니즘
  - 컴퓨터 박물관, 재활용 센터, 중고 직거래 장터
  - Virtual machines

# 보고서
- 보고서 작성
  - Who did what and how: 전문가가 검토하고 반복 실험할 수 있게
  - 실험 결과: 실험 환경을 포함
  - 결과에 대한 의미 부여
  - 가정과 한계 명시
    - 모든 종류의 에러 가능성 -> 참고문헌의 제시
    - All science is imperfect.
    - Any such statement without recognizing that there is potential for error would be unscientific.


9. Tool and Process.md
---

# 개요
- 포렌식 조사 -> Tool 사용
  - Tool의 한계를 이해하고 있어야 함
  - Tool: 검증, 측정 (오차)
  - 감정 보고서: 방법과 논거, 절차, 결과, 결론, 적합도, 출처, 확실성
- 증거 수집과 달리 조사는 표준 방법이 없음
  - 모든 trace, event 가 일관성이 있어야 하는 것은 아님
  - 법정에서 허용되고, 판사에게 확실성만 보여 주면 됨
- 대부분의 조사에 반박이 없었으나 점점 상황이 변하고 있음

# Clarifying the limitation of examination
- 사용한 방법, 시스템, SW, 절차, 결과, 결론, 오류율 명시
  - 방법: peer reviewed, published, and carefully undertaken
  - 분석에 사용한 OS, SW의 범용성, 안정성: 사용자의 수
  - 분석자의 다년간 경험에 의한 사용 시스템의 적정성
  - 다양한 메커니즘의 적용에서 동일한 결과 산출
- 한계
  - 특이 상황으로 인한 오류
  - HW, OS, libraries, SW 등의 불완전성
  - 도구에 내재된 한계: 입력 크기, 적용 포멧
  - 사용자 에러: 오타, 구문 에러, 출력-입력 결합 오류, 환경 오류
  - 모든 가능한 경우에 대한 검증 불가능성

# Validation of examinations
- Validity of consistency results relating to traces
  1. Purely analytical results that directly show (C) or (D): 검색
  2. Reconstruction: 시간대 배열에 적합, 고비용, 반박에 유용
  3. Statistical results using similar systems: 정보역학의 한계?
  4. The examination of relevant HW and SW: 복잡성, 역공학?
  5. Testimony: 모든 것을 다 알기 어려운 환경
- Validity of mechanism used to do the examination
  - Use tools that have been widely used and well tested
  - Test the tools on sample data
  - Do redundant checks or other cross checks
  - When reviewing, Redo the key steps
  - 변호사의 확인, 독립적인 제삼자의 확인
  - Create golden unit copies, use other integrity techniques 

# Process controls
- Use a defined and documented process
- Use tested components and tools
- Keep independent things separated
- Assure the purity of original and duplicated evidence
- Validate the purity of duplicated and derived evidence
- Use known test samples with known results
- Take contemporaneous notes
- Calibrate with known samples prior to use
- Clear results areas prior to use
- Use tools consistent with procedures
- Check results with redundant process after use

- Defined and documented process
  - 과학적으로 적정 <- 반복 가능성: 기록되어야 함
  - Help files, Manuals, 체크리스트
  - 분석 진행과 동시에 기록: 기억의 불완전성
- Tested components and tools
  - 증거 수집 도구: NIST CFTT
  - 증거 분석 도구: 표준 시험 절차는 없음, 널리 사용되고 있음
    - 비즈니스 기록이 전문법칙 예외인 것과 유사
  - 조사자가 직접 테스트 프로그램을 개발하여 검증
- Keep independent things separated
  - Wiping, read-only 매체 사용
  - 에러 로그 확인, 단계별 결과 확인 후 다음 단계로 진행
  - 필요한 파일 삭제 방지, 불필요한 파일 완전 삭제, 쓰기 방지
  - 증거 분리 정책 시행: 네트워크, 프로세스, 메모리 차단

- Assuring the purity of original and duplicated evidence
  - 원본은 사본 생성 후 안전하게 보관, 무결성 유지
- Validating purity of duplicated and derived evidence
  - 복제된 데이터(hash value), 추출된 증거의 정확성 확인
- Known test samples with known results
  - Upgrade, update, patch 와 같은 환경 변화가 있는 경우 검증
  - Golden units 과의 차이
- Contemporaneous notes   - discovery 대상, 농담(X)
  - 기억에 의존하지 말고 조사 과정을 상세히 기록
  - 재현할 수 있도록 기록

- Calibrate with known samples prior to use
  - 시험 후 잔여 정보 제거
- Use of tools consistent with procedures
  - Generate : 프로그램 개발
  - Test : 개발 프로그램을 알려진 샘플로 시험
  - Apply : traces에 적용
  - Verify : 결과 검증, 비정상 출력?, redundant processes
  - Correct
- Checking results with redundant process after use
  - 중간 결과 점검

# Presentation tools and visualization
- DFE is latent   - visualization
- Things tools don’t show well or at all
  - 코드표의 차이(ASCII or EBCDIC), 한글 출력 오류
  - 외관상 유사하나 다른 데이터
  - forensic fonts
- Going faster using the visual cortex
  - 관계, 그래프   - 패턴: 시각화가 유리
  - 패턴 발견 후 정밀 분석
- Cognitive errors and visualization
  - 인지 능력의 한계, 개인차가 존재함(색약)

# 도구와 프로세스의 이해
- 도구, 흔적, OS의 상호 연관 관계, 결과 생성 방법 이해
- 상용 제품
  - GUI SW의 내부 구동 내용을 이해하는 것은 거의 불가능
  - 단일 도구 보다는 다수의 도구를 사용하여 확실성 증가
- 익숙한 도구와 제한된 내용만 분석   - 전문성을 증가시켜야 함

# Creating and using a golden unit
- 자신의 조사 도구를 구축하는 경우는 매우 소수
- Golden unit으로 사건마다 재검증
- Bootable OS로 자신만의 환경 구축
- Bootable CD -> WG
- Virtualization 

# Toward automated analysis and processing
- ?
